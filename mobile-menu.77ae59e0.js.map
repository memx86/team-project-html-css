{"version":3,"sources":["js/mobile-menu.js"],"names":["refs","modal","document","querySelector","menuBtn","onMenuBtnClick","e","currentTarget","classList","contains","menuBtnToggle","openModal","addEventListener","onMobileMenuLinkClick","onBackdropClick","onEscDown","closeModal","remove","body","add","removeEventListener","target","code","hasAttribute","expanded","getAttribute","toggle","setAttribute"],"mappings":";AAIA,MAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,eAC9BC,QAASF,SAASC,cAAc,uBAKlC,SAASE,EAAeC,GAClB,IAACA,EAAEC,cAAcC,UAAUC,SAAS,WAMtC,OALAC,IACAC,IACAX,EAAKC,MAAMW,iBAAiB,QAASC,GACrCb,EAAKC,MAAMW,iBAAiB,QAASE,QACrCZ,SAASU,iBAAiB,UAAWG,GAGvCC,IAEF,SAASL,IACPX,EAAKC,MAAMO,UAAUS,OAAO,aAC5Bf,SAASgB,KAAKV,UAAUW,IAAI,cAE9B,SAASH,IACPN,IACAV,EAAKC,MAAMO,UAAUW,IAAI,aACzBjB,SAASgB,KAAKV,UAAUS,OAAO,cAC/BjB,EAAKC,MAAMmB,oBAAoB,QAASP,GACxCb,EAAKC,MAAMmB,oBAAoB,QAASN,GACxCZ,SAASkB,oBAAoB,UAAWL,GAE1C,SAASD,EAAgBR,GACnBA,EAAEe,SAAWrB,EAAKC,OACtBe,IAEF,SAASD,EAAUT,GACF,WAAXA,EAAEgB,MACNN,IAEF,SAASH,EAAsBP,GACxBA,EAAEe,OAAOE,aAAa,qBAG3BP,IAEF,SAASN,IACDc,MAAAA,EAA0D,SAA/CxB,EAAKI,QAAQqB,aAAa,mBAA+B,EAC1EzB,EAAKI,QAAQI,UAAUkB,OAAO,WAC9B1B,EAAKI,QAAQuB,aAAa,iBAAkBH,GA1C9CxB,EAAKI,QAAQQ,iBAAiB,QAASP","file":"mobile-menu.77ae59e0.js","sourceRoot":"../src","sourcesContent":["// Задать кнопке-бургеру аттрибут data-menu-button\n// Задать мобильному меню аттрибут data-menu, класс is-hidden\n// Задать якорным ссылкам аттрибут data-mobile-link\n\nconst refs = {\n  modal: document.querySelector('[data-menu]'),\n  menuBtn: document.querySelector('[data-menu-button]'),\n};\n\nrefs.menuBtn.addEventListener('click', onMenuBtnClick);\n\nfunction onMenuBtnClick(e) {\n  if (!e.currentTarget.classList.contains('is-open')) {\n    menuBtnToggle();\n    openModal();\n    refs.modal.addEventListener('click', onMobileMenuLinkClick);\n    refs.modal.addEventListener('click', onBackdropClick);\n    document.addEventListener('keydown', onEscDown);\n    return;\n  }\n  closeModal();\n}\nfunction openModal() {\n  refs.modal.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n}\nfunction closeModal() {\n  menuBtnToggle();\n  refs.modal.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  refs.modal.removeEventListener('click', onMobileMenuLinkClick);\n  refs.modal.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onEscDown);\n}\nfunction onBackdropClick(e) {\n  if (e.target !== refs.modal) return;\n  closeModal();\n}\nfunction onEscDown(e) {\n  if (e.code !== 'Escape') return;\n  closeModal();\n}\nfunction onMobileMenuLinkClick(e) {\n  if (!e.target.hasAttribute('data-mobile-link')) {\n    return;\n  }\n  closeModal();\n}\nfunction menuBtnToggle() {\n  const expanded = refs.menuBtn.getAttribute('aria-expanded') === 'true' || false;\n  refs.menuBtn.classList.toggle('is-open');\n  refs.menuBtn.setAttribute('aria-expanded', !expanded);\n}\n"]}
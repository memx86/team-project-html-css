{"version":3,"sources":["js/mobile-menu.js"],"names":["refs","modal","document","querySelector","menuBtn","onMenuBtnClick","e","menuBtnToggle","currentTarget","classList","contains","openModal","addEventListener","onMobileMenuLinkClick","onBackdropClick","onEscDown","closeModal","remove","body","add","removeEventListener","target","code","hasAttribute","expanded","getAttribute","toggle","setAttribute"],"mappings":";AAIA,MAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,eAC9BC,QAASF,SAASC,cAAc,uBAKlC,SAASE,EAAeC,GAElBA,GADJC,IACID,EAAEE,cAAcC,UAAUC,SAAS,WAKrC,OAJAC,IACAX,EAAKC,MAAMW,iBAAiB,QAASC,GACrCb,EAAKC,MAAMW,iBAAiB,QAASE,QACrCZ,SAASU,iBAAiB,UAAWG,GAGvCC,IAEF,SAASL,IACPX,EAAKC,MAAMQ,UAAUQ,OAAO,aAC5Bf,SAASgB,KAAKT,UAAUU,IAAI,cAE9B,SAASH,IACPhB,EAAKC,MAAMQ,UAAUU,IAAI,aACzBjB,SAASgB,KAAKT,UAAUQ,OAAO,cAC/BjB,EAAKC,MAAMmB,oBAAoB,QAASP,GACxCb,EAAKC,MAAMmB,oBAAoB,QAASN,GACxCZ,SAASkB,oBAAoB,UAAWL,GAE1C,SAASD,EAAgBR,GACnBA,EAAEe,SAAWrB,EAAKC,QACtBe,IACAT,KAEF,SAASQ,EAAUT,GACF,WAAXA,EAAEgB,OACNN,IACAT,KAEF,SAASM,EAAsBP,GACxBA,EAAEe,OAAOE,aAAa,sBAG3BP,IACAT,KAEF,SAASA,IACDiB,MAAAA,EAA0D,SAA/CxB,EAAKI,QAAQqB,aAAa,mBAA+B,EAC1EzB,EAAKI,QAAQK,UAAUiB,OAAO,WAC9B1B,EAAKI,QAAQuB,aAAa,iBAAkBH,GA5C9CxB,EAAKI,QAAQQ,iBAAiB,QAASP","file":"mobile-menu.148add25.js","sourceRoot":"../src","sourcesContent":["// Задать кнопке-бургеру аттрибут data-menu-button\n// Задать мобильному меню аттрибут data-menu, класс is-hidden\n// Задать якорным ссылкам аттрибут data-mobile-link\n\nconst refs = {\n  modal: document.querySelector('[data-menu]'),\n  menuBtn: document.querySelector('[data-menu-button]'),\n};\n\nrefs.menuBtn.addEventListener('click', onMenuBtnClick);\n\nfunction onMenuBtnClick(e) {\n  menuBtnToggle();\n  if (e.currentTarget.classList.contains('is-open')) {\n    openModal();\n    refs.modal.addEventListener('click', onMobileMenuLinkClick);\n    refs.modal.addEventListener('click', onBackdropClick);\n    document.addEventListener('keydown', onEscDown);\n    return;\n  }\n  closeModal();\n}\nfunction openModal() {\n  refs.modal.classList.remove('is-hidden');\n  document.body.classList.add('modal-open');\n}\nfunction closeModal() {\n  refs.modal.classList.add('is-hidden');\n  document.body.classList.remove('modal-open');\n  refs.modal.removeEventListener('click', onMobileMenuLinkClick);\n  refs.modal.removeEventListener('click', onBackdropClick);\n  document.removeEventListener('keydown', onEscDown);\n}\nfunction onBackdropClick(e) {\n  if (e.target !== refs.modal) return;\n  closeModal();\n  menuBtnToggle();\n}\nfunction onEscDown(e) {\n  if (e.code !== 'Escape') return;\n  closeModal();\n  menuBtnToggle();\n}\nfunction onMobileMenuLinkClick(e) {\n  if (!e.target.hasAttribute('data-mobile-link')) {\n    return;\n  }\n  closeModal();\n  menuBtnToggle();\n}\nfunction menuBtnToggle() {\n  const expanded = refs.menuBtn.getAttribute('aria-expanded') === 'true' || false;\n  refs.menuBtn.classList.toggle('is-open');\n  refs.menuBtn.setAttribute('aria-expanded', !expanded);\n}\n"]}
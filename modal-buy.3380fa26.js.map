{"version":3,"sources":["js/modal.js","js/modal-buy.js"],"names":["Modal","constructor","refs","openModal","closeBtn","addEventListener","closeModal","modal","onBackdropClick","document","onEscDown","classList","remove","body","add","removeEventListener","e","target","code","openBtn","onModalOpenBtnClick","openBtnSecond","querySelector","modalBuy"],"mappings":";AAQ2B,aAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAZ,MAAMA,EACnBC,YAAYC,GAAM,IAAA,EAKI,EAAA,KAAA,sBAAA,KACfC,KAAAA,YACAD,KAAAA,KAAKE,SAASC,iBAAiB,QAAS,KAAKC,YAC7CJ,KAAAA,KAAKK,MAAMF,iBAAiB,QAAS,KAAKG,iBAC/CC,SAASJ,iBAAiB,UAAW,KAAKK,aAEhC,EAAA,KAAA,YAAA,KACLR,KAAAA,KAAKK,MAAMI,UAAUC,OAAO,aACjCH,SAASI,KAAKF,UAAUG,IAAI,gBAEjB,EAAA,KAAA,aAAA,KACNZ,KAAAA,KAAKK,MAAMI,UAAUG,IAAI,aAC9BL,SAASI,KAAKF,UAAUC,OAAO,cAC1BV,KAAAA,KAAKE,SAASW,oBAAoB,QAAS,KAAKT,YAChDJ,KAAAA,KAAKK,MAAMQ,oBAAoB,QAAS,KAAKP,iBAClDC,SAASM,oBAAoB,UAAW,KAAKL,aAE7BM,EAAAA,KAAAA,kBAAAA,IACZA,EAAEC,SAAW,KAAKf,KAAKK,OACtBD,KAAAA,eAEKU,EAAAA,KAAAA,YAAAA,IACK,WAAXA,EAAEE,MACDZ,KAAAA,eA3BAJ,KAAAA,KAAOA,EACPA,KAAAA,KAAKiB,QAAQd,iBAAiB,QAAS,KAAKe,qBACxBf,QAApBH,EAAAA,KAAAA,KAAKmB,qBAAehB,IAAAA,GAAAA,EAAAA,iBAAiB,QAAS,KAAKe,sBAJjC,QAAA,QAAA;;ACI3B,aAPA,IAAA,EAAA,EAAA,QAAA,YAOA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GANA,MAAMlB,EAAO,CACXK,MAAOE,SAASa,cAAc,sBAC9BH,QAASV,SAASa,cAAc,2BAChCD,cAAeZ,SAASa,cAAc,uCACtClB,SAAUK,SAASa,cAAc,6BAE7BC,EAAW,IAAIvB,EAAJ,QAAUE","file":"modal-buy.3380fa26.js","sourceRoot":"../src","sourcesContent":["// Expects object with following refs\n//  {\n//  modal: modal window ref,\n//  openBtn: open modal window btn ref,\n//  closeBtn: close modal window btn ref,\n//  openBtnSecond: optional modal window btn ref, //optional\n// }\n\nexport default class Modal {\n  constructor(refs) {\n    this.refs = refs;\n    this.refs.openBtn.addEventListener('click', this.onModalOpenBtnClick);\n    this.refs.openBtnSecond?.addEventListener('click', this.onModalOpenBtnClick);\n  }\n  onModalOpenBtnClick = () => {\n    this.openModal();\n    this.refs.closeBtn.addEventListener('click', this.closeModal);\n    this.refs.modal.addEventListener('click', this.onBackdropClick);\n    document.addEventListener('keydown', this.onEscDown);\n  };\n  openModal = () => {\n    this.refs.modal.classList.remove('is-hidden');\n    document.body.classList.add('modal-open');\n  };\n  closeModal = () => {\n    this.refs.modal.classList.add('is-hidden');\n    document.body.classList.remove('modal-open');\n    this.refs.closeBtn.removeEventListener('click', this.closeModal);\n    this.refs.modal.removeEventListener('click', this.onBackdropClick);\n    document.removeEventListener('keydown', this.onEscDown);\n  };\n  onBackdropClick = e => {\n    if (e.target !== this.refs.modal) return;\n    this.closeModal();\n  };\n  onEscDown = e => {\n    if (e.code !== 'Escape') return;\n    this.closeModal();\n  };\n}\n","// Задать кнопке открытия модального окна аттрибут data-modal-open=\"buy\"\n// Задать кнопке открытия модального окна в мобильном меню аттрибут data-modal-open=\"buy-mobile-menu\"\n// Задать backdrop модального окна аттрибуты data-modal=\"buy\", class=\"is-hidden\"\n// Задать кнопке закрытия модального окна аттрибут data-modal-close=\"buy\"\n// Модальное окно закрывается по клику на кнопку закрытия, по клику в бэкдроп, по нажатию клавиши \"Esc\"\nimport Modal from './modal';\nconst refs = {\n  modal: document.querySelector('[data-modal=\"buy\"]'),\n  openBtn: document.querySelector('[data-modal-open=\"buy\"]'),\n  openBtnSecond: document.querySelector('[data-modal-open=\"buy-mobile-menu\"]'),\n  closeBtn: document.querySelector('[data-modal-close=\"buy\"]'),\n};\nconst modalBuy = new Modal(refs);\n"]}